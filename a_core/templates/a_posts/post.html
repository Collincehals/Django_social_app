<style>
.post-grid {
    display:grid;
    grid-template-columns: 1fr 9fr;
    justify-content: center;
    margin-top:15px;
    margin-left:10px;
}
@media (max-width:400px) {
    .post-grid {
    grid-template-columns: 1fr 7fr;
}
}
@media (max-width:300px) {
    .post-grid {
    grid-template-columns: 1fr;
}
}
</style>

<card class="post-item-card" >
    <div class="post-grid">
        <div>
            <img class="w-8 h-8 object-cover rounded-full" src="{{ post.author.profile.image.url }}">
        </div>
    
        <div class="pr-5">

            <a href="{% url 'userprofile' post.author.username %}">
            <span class="font-bold hover:underline">{{ post.author.profile.realname }}</span>
            <span class="text-sm text-gray-400">@ {{ post.author }}</span>
            <span class="text-sm ml-2 text-gray-500">{{ post.created }}</span>
            </a> 
            <div class="mt-3">
                {% if post.media %}
                {% if 'mp4' in post.media.url %}
                <video src="{{post.media.url}}" type="mp4" controls ></video>
                {% else %}
                <figure>
                    <a href="{% url 'view-post' post.id %}"><img class="w-full"  src="{{ post.media.url }}"></a>
                </figure>
                {% endif %}
            {% else %}
            {% endif %}
            </div>  
            <div class="pt-2">
                <a href="{% url 'view-post' post.id %}"><p class="text-lg mb-4">{{ post.body }}</p></a>
                {% if not post.media or 'mp4' in post.media.url %}
                {% else %}
                    <div class="flex items-center gap-2 text-sm mb-5 flex-wrap">
                        {% for tag in post.tags.all %}
                        <a href="{% url 'category' tag.slug %}" class="bg-gray-200 rounded-full px-3 py-1 hover:bg-gray-800 hover:theme-color">{{ tag }}</a>
                        {% endfor %}
                    </div>
                {% endif %}
            
                <div style="display: flex; flex-wrap: wrap;justify-content: center; align-items: center;gap:30px;">
                    {% if post.comments.count %}
                    <p id="commentbtn"><a class="font-bold cursor-pointer">
                    <i class="fa-regular fa-comment text-blue-800 text-lg hover:text-green-700"></i>
                    <span id="commentscount-{{ post.id }}" class="font-light text-gray-500 ml-1">{{ post.comments.count }}</span>
                    </a></p>
                    {% else %}
                    <p id="commentbtn" class="font-semibold text-blue-800 cursor-pointer"><a>
                    <i class="fa-regular fa-comment text-blue-800 text-lg"></i><span class="text-black-800">+</span></a>
                    </p>
                    {% endif %}
                    
                    <p><a href="{% url 'repost' post.id %}"><i class="fa-solid fa-retweet text-blue-800 hover:text-yellow-700 text-lg"></i></a></p>
                    {% include 'snippets/posts_likes.html' %}
                    {% if user.is_superuser or user == post.author %}
                    <p><a href="{% url 'edit-post' post.id %}"><i class="fa-regular fa-pen-to-square text-blue-800 text-lg"></i></a></p>
                    <p><a href="{% url 'delete-post' post.id %}"><i class="fa-regular fa-trash-can text-blue-800 hover:text-red-700 text-lg"></i></a></p>
                    {% endif %} 
                </div>
            </div>
        </div>
        
    </div>
    
</card>