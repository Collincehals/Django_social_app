{% extends "layouts/inbox_layout.html" %}
{% block title %} Inbox {% endblock %}

{% block content %}
<style>
  .inbox-reply-form textarea {
    border:1px solid #ccc;
  }
    @media (max-width:768px) {
        .contacts-wrapper {
            padding:20px 10px;
            position:fixed;
            left:-40px;
            top:0;
            width:60%;
            height:100vh;
            background-color: rgb(197, 198, 210);
            clip-path: polygon(0 0, 0 0, 0 0, 0 0);
        }
        .contacts-wrapper.active {
           clip-path: none;
           left:0;
           transition:.4s ease-in-out;
           z-index: 100;
        }
    }
</style>
    <div class="inbox-container md:grid md:grid-cols-4 w-full max-w-5xl min-h-[90%] shadow-lg mx-auto my-6 bg-violet-200">
        <div id="chats-open-menubars" class="absolute md:hidden bg-gray-200 p-2 font-semibold"><i class="fa-solid fa-user-group text-lg text-blue-800"></i><span class="pl-2 text-lg text-blue-800">Chats</span></div>
        <div class="contacts-wrapper md:col-span-1 py-5 px-3">
            <button id="new-message-button" class="bg-blue-700 py-2 px-3 rounded-3xl text-center text-white cursor-pointer whitespace-nowrap "> <i class="fa-regular fa-pen-to-square mx-1"></i>New Message</button>
            {% include 'a_inbox/my_conversations.html' %}
        </div>
        {% include 'a_inbox/search_users.html' %}
        <div class="messages-wrapper w-full md:col-span-3 md:p-6 p-2 bg-white">
        {% include 'a_inbox/messages.html' %}
        </div>
    </div>


















    <script>
        const openchatsbtn= document.getElementById('chats-open-menubars');
        const conversationslist = document.querySelector('.contacts-wrapper');
        const chatsclosebtn = document.querySelector('#chats-cancel-btn');
    
        document.getElementById('new-message-button').addEventListener('click',function() {
            document.getElementById('popup-layout').classList.toggle('hidden')
            document.getElementById('popup-layout').classList.add('flex')
        });
    
        document.getElementById('cancelbtn').addEventListener('click',function() {
            document.getElementById('popup-layout').classList.add('hidden')
        });
    
        openchatsbtn.addEventListener('click',function() {
            conversationslist.classList.add('active');
        });

    </script>
{% endblock %}  